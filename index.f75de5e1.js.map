{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const element = document.createElement('div');\n\n  setTimeout(() => {\n    element.remove();\n  }, 2000);\n\n  element.setAttribute('data-qa', 'notification');\n\n  element.style.top = `${posTop}px`;\n  element.style.right = `${posRight}px`;\n\n  element.className = `notification ${type}`;\n\n  element.insertAdjacentHTML('beforeend', `\n      <h2 class=\"title\">${title}</h2>\n      <p>\n        ${description}\n      </p>\n    `);\n\n  body.append(element);\n};\n\nconst head = document.querySelector('thead');\nconst headRow = head.querySelector('tr');\nconst tableBody = document.querySelector('tbody');\nconst bodyRows = tableBody.querySelectorAll('tr');\n\ntableBody.addEventListener('click', (e) => {\n  const el = e.target.parentNode;\n\n  const currBodyRows = tableBody.querySelectorAll('tr');\n\n  [...currBodyRows].forEach(row => {\n    if (row === el && !row.classList.contains('active')) {\n      row.classList.add('active');\n    } else {\n      row.classList.remove('active');\n    }\n  });\n});\n\nfunction resetButtons(e) {\n  [...headRow.children].map(button => {\n    if (button !== e.target) {\n      button.setAttribute('data-dir', 'asc');\n    } else {\n      if (button.getAttribute('data-dir') === 'desc') {\n        button.setAttribute('data-dir', 'asc');\n      } else {\n        button.setAttribute('data-dir', 'desc');\n      }\n    }\n  });\n}\n\nwindow.addEventListener('load', (e) => {\n  [...headRow.children].map(button => button.setAttribute('data-dir', 'asc'));\n});\n\nheadRow.addEventListener('click', sort);\n\nfunction sort(e) {\n  const order = e.target.getAttribute('data-dir');\n  const indexSortField = [...headRow.children].indexOf(e.target);\n\n  switch (order) {\n    case 'desc':\n      descF(e, indexSortField);\n      break;\n    case 'asc':\n      ascF(e, indexSortField);\n      break;\n  }\n\n  resetButtons(e);\n}\n\nfunction descF(e, i) {\n  switch (e.target.textContent) {\n    case 'Name':\n    case 'Position':\n    case 'Office':\n      const newBodyRows1 = [...bodyRows].sort((a, b) => (\n        b.cells[i].textContent.localeCompare(a.cells[i].textContent)\n      ));\n\n      bodyRows.forEach(node => node.parentNode.removeChild(node));\n      newBodyRows1.forEach(node => tableBody.appendChild(node));\n\n      break;\n\n    case 'Age':\n    case 'Salary':\n      const newBodyRows4 = [...bodyRows].sort((a, b) => {\n        const aSalaryStr = a.cells[i].textContent.replace(/[^\\d]/g, '');\n        const aSalaryValue = parseInt(aSalaryStr, 10);\n        const bSalaryStr = b.cells[i].textContent.replace(/[^\\d]/g, '');\n        const bSalaryValue = parseInt(bSalaryStr, 10);\n\n        return bSalaryValue - aSalaryValue;\n      });\n\n      bodyRows.forEach(node => node.parentNode.removeChild(node));\n      newBodyRows4.forEach(node => tableBody.appendChild(node));\n\n      break;\n  }\n};\n\nfunction ascF(e, i) {\n  switch (e.target.textContent) {\n    case 'Name':\n    case 'Position':\n    case 'Office':\n      const newBodyRows1 = [...bodyRows].sort((a, b) => (\n        a.cells[i].textContent.localeCompare(b.cells[i].textContent)\n      ));\n\n      bodyRows.forEach(node => node.parentNode.removeChild(node));\n      newBodyRows1.forEach(node => tableBody.appendChild(node));\n\n      break;\n\n    case 'Age':\n    case 'Salary':\n      const newBodyRows4 = [...bodyRows].sort((a, b) => {\n        const aSalaryStr = a.cells[i].textContent.replace(/[^\\d]/g, '');\n        const aSalaryValue = parseInt(aSalaryStr, 10);\n        const bSalaryStr = b.cells[i].textContent.replace(/[^\\d]/g, '');\n        const bSalaryValue = parseInt(bSalaryStr, 10);\n\n        return aSalaryValue - bSalaryValue;\n      });\n\n      bodyRows.forEach(node => node.parentNode.removeChild(node));\n      newBodyRows4.forEach(node => tableBody.appendChild(node));\n\n      break;\n  }\n};\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form class=\"new-employee-form\" method=\"POST\">\n    <label>\n      Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        data-qa=\"name\"\n        required\n      >\n    </label>\n\n    <label>\n      Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        data-qa=\"position\"\n        required\n      >\n    </label>\n\n    <label>\n      Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n\n    <label>\n      Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n        min=\"0\"\n        required\n      >\n    </label>\n\n    <label>\n      Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n        min=\"0\"\n        required\n      >\n    </label>\n\n    <button type=\"submit\">Save to table</button>\n  </form>\n`);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n\n  const newEmployee = Object.fromEntries(data.entries());\n\n  newEmployee.salary = `$${\n    (newEmployee.salary / 1000).toFixed(3).toString().replace('.', ',')\n  }`;\n\n  const newRow = document.createElement('tr');\n\n  newRow.innerHTML = `\n    <td>${newEmployee.name}</td>\n    <td>${newEmployee.position}</td>\n    <td>${newEmployee.office}</td>\n    <td>${newEmployee.age}</td>\n    <td>${newEmployee.salary}</td>\n  `;\n\n  if (newEmployee.name.length < 4\n    && (+(newEmployee.age) < 18 || +(newEmployee.age) > 90)) {\n    pushNotification(\n      10, 10, 'Error', 'Field \"Name\" should has at leact 5 char', 'error',\n    );\n\n    pushNotification(\n      150, 10, 'Error',\n      'Field \"Age\" should be more than 4 and less than 90', 'error',\n    );\n\n    return;\n  }\n\n  if (+(newEmployee.age) < 18 || +(newEmployee.age) > 90) {\n    pushNotification(\n      10, 10, 'Error',\n      'Field \"Age\" should be more than 4 and less than 90', 'error',\n    );\n\n    return;\n  }\n\n  if (newEmployee.name.length < 4) {\n    pushNotification(\n      10, 10, 'Error', 'Field \"Name\" should has at leact 5 char', 'error',\n    );\n\n    return;\n  }\n\n  pushNotification(10, 10,\n    'Success', 'New employee successfylly added', 'success',\n  );\n\n  tableBody.append(newRow);\n\n  form.reset();\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}